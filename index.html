<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agilauto ‚Äî Espace commerciaux</title>
  <link rel="icon" href="https://content.sofinco.fr/files/live/sites/contentAgilauto/files/img/visuals/logo-agilauto.svg">
  <style>
    :root{ --aa-blue:#0b5aa6; --aa-blue-2:#2f79d8; --aa-green:#3ab17a; --aa-bg:#f5f8fc; --aa-text:#00254d; --aa-border:#e6eef7; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--aa-bg);color:var(--aa-text);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    header{display:flex;align-items:center;gap:16px;padding:12px 20px;background:#fff;border-bottom:1px solid var(--aa-border);position:sticky;top:0;z-index:10}
    header img{height:34px}
    header h1{font-size:18px;margin:0;font-weight:700}
    .container{max-width:1200px;margin:0 auto;padding:16px 20px 40px}
    .tabs{display:flex;gap:8px;padding:8px 0 16px}
    .tab-btn{border:1px solid var(--aa-border);background:#fff;color:var(--aa-blue);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600}
    .tab-btn.active{background:var(--aa-blue);border-color:var(--aa-blue);color:#fff}
    .panel{display:none}
    .panel.active{display:block}
    .card{background:#fff;border:1px solid var(--aa-border);border-radius:14px;padding:18px;box-shadow:0 2px 10px rgba(0,0,0,.04);margin:12px 0}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .col{flex:1 1 320px}
    label{display:block;font-size:12px;color:#5a6d86;margin-bottom:6px}
    input,select,textarea,button{border:1px solid var(--aa-border);border-radius:10px;padding:10px 12px;font:inherit;outline:none;background:#fff;color:var(--aa-text)}
    input:focus,select:focus,textarea:focus{border-color:var(--aa-blue)}
    button.primary{background:var(--aa-blue);color:#fff;border-color:var(--aa-blue);cursor:pointer}
    .kv{display:grid;grid-template-columns:160px 1fr;gap:8px 12px}
    .list{display:grid;gap:12px}
    .muted{color:#6b7d95}
    .car{display:flex;gap:14px}
    .car img{width:180px;height:112px;object-fit:cover;border-radius:10px;border:1px solid var(--aa-border)}
    .tag{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;background:#edf4ff;color:var(--aa-blue)}
    .kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:8px}
    .kpi{border:1px solid var(--aa-border);border-radius:14px;padding:14px}
    .kpi-head{display:flex;align-items:center;gap:10px}
    .kpi-ico{width:34px;height:34px;border-radius:10px;background:#edf4ff;display:flex;align-items:center;justify-content:center}
    .kpi-val{font-size:28px;font-weight:800}
    .kpi-sub{margin-top:4px;color:#5a6d86}
    .donut{--p:65;--c1:#2f79d8;--c2:#bfcfff;width:100px;height:100px;border-radius:50%;background:conic-gradient(var(--c1) calc(var(--p)*1%), var(--c2) 0);mask: radial-gradient(circle 36px, transparent 36px, black 37px); margin:10px auto}
    .kpi-legend{display:flex;justify-content:space-between;margin-top:6px;color:#5a6d86}
    .dot,.dot.alt{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;background:#2f79d8}
    .dot.alt{background:#bfcfff}
    .dash-footer{display:flex;flex-wrap:wrap;gap:10px;margin-top:14px}
    .chip{background:#fff;border:1px solid var(--aa-border);border-radius:999px;padding:6px 10px;display:flex;align-items:center;gap:8px}
    .avatars{display:inline-flex;gap:4px;margin-left:6px}
    .avatars img{width:22px;height:22px;border-radius:50%;border:1px solid #fff;box-shadow:0 0 0 1px #dfe8f5}
  </style>
</head>
<body>
  <header class="container">
    <img src="https://content.sofinco.fr/files/live/sites/contentAgilauto/files/img/visuals/logo-agilauto.svg" alt="Agilauto" />
    <h1>Espace commerciaux ‚Äî Maquette UI</h1>
  </header>

  <div class="container">
    <nav class="tabs">
      <button class="tab-btn active" data-tab="fleet">Gestionnaire de flottes</button>
      <button class="tab-btn" data-tab="account">Compte</button>
      <button class="tab-btn" data-tab="lead">Lead</button>
    </nav>

    <!-- Onglet 1: Gestionnaire de flottes -->
    <section id="panel-fleet" class="panel active">
      <div class="card">
        <h2 style="margin-top:0">Recherche gestionnaire</h2>
        <div class="row">
          <div class="col">
            <label>Email du gestionnaire</label>
            <input id="fleet-email" />
          </div>
          <div class="col" style="align-self:end">
            <button class="primary" id="btn-search-fleet">Rechercher</button>
          </div>
        </div>
      </div>

      <div class="card" id="fleet-fiche">
        <h3>Fiche gestionnaire</h3>
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:16px">
          <div class="kv" style="flex:1">
            <div>Nom / Pr√©nom</div><div><strong id="fleet-name">‚Äî</strong></div>
            <div>Email</div><div id="fleet-email-out">‚Äî</div>
            <div>T√©l√©phone</div><div id="fleet-mobile">‚Äî</div>
            <div>Origine</div><div id="fleet-origin">‚Äî</div>
            <div>Derni√®re MAJ</div><div id="fleet-updated">‚Äî</div>
          </div>
          <div>
            <img src="https://lh3.googleusercontent.com/p/AF1QipMZynAxIUI5Er2oytYc8XWCdG2vlbW-vYjQ9uHf=s1360-w1360-h1020-rw" alt="Logo KPC" style="height:60px;object-fit:contain;border-radius:8px;border:1px solid var(--aa-border)" />
          </div>
        </div>
      </div>

      <div class="card">
        <h3 style="margin-top:0">Contrats li√©s √† ce gestionnaire</h3>
        <div class="list" id="fleet-contracts">
          <div class="muted">(√Ä brancher sur l'API Contrats)</div>
        </div>
      </div>
    </section>

    <!-- Onglet 2: Compte -->
    <section id="panel-account" class="panel">
      <div class="card">
        <h2 style="margin-top:0">Recherche compte</h2>
        <div class="row">
          <div class="col">
            <label>Nom du compte</label>
            <input id="account-name" />
          </div>
          <div class="col" style="align-self:end">
            <button class="primary" id="btn-search-account">Rechercher</button>
          </div>
        </div>
      </div>

      <div class="card" id="account-fiche">
        <h3 style="margin-top:0">Fiche entreprise</h3>
        <div class="kv">
          <div>Raison sociale</div><div><strong id="acc-brand">‚Äî</strong></div>
          <div>SIREN</div><div id="acc-siren">‚Äî</div>
          <div>Adresse</div><div id="acc-address">‚Äî</div>
          <div>Pays</div><div id="acc-country">‚Äî</div>
          <div>T√©l√©phone</div><div id="acc-phone">‚Äî</div>
          <div>Email</div><div id="acc-email">‚Äî</div>
          <div>Site web</div><div id="acc-url">‚Äî</div>
        </div>
      </div>

      <div class="card" id="account-dash" style="display:none">
        <h3 style="margin-top:0">Tableau de bord du compte</h3>
        <div class="kpi-grid">
          <div class="kpi">
            <div class="kpi-head"><div class="kpi-ico">üî•</div><div class="kpi-val" id="dash-leads-val">‚Äì</div></div>
            <div class="kpi-sub">Leads en cours</div>
            <div class="donut" id="donut-leads"></div>
            <div class="kpi-legend"><div><span class="dot"></span> Equi parity</div><div id="leads-equi">‚Äì</div></div>
            <div class="kpi-legend"><div><span class="dot alt"></span> FDC</div><div id="leads-fdc">‚Äì</div></div>
          </div>
          <div class="kpi">
            <div class="kpi-head"><div class="kpi-ico">üóìÔ∏è</div><div class="kpi-val" id="dash-rdv-val">‚Äì</div></div>
            <div class="kpi-sub">Rendez-vous</div>
            <div class="donut" id="donut-rdv"></div>
            <div class="kpi-legend"><div><span class="dot"></span> Equi parity</div><div id="rdv-equi">‚Äì</div></div>
            <div class="kpi-legend"><div><span class="dot alt"></span> FDC</div><div id="rdv-fdc">‚Äì</div></div>
          </div>
        </div>
        <div class="dash-footer">
          <div class="chip"><strong id="dash-renouv">‚Äì</strong> Renouvellements</div>
          <div class="chip"><strong id="dash-contrats-actifs">‚Äì</strong> Contrats actifs</div>
          <div class="chip"><strong id="dash-ca">‚Äì</strong> CA total (est.)</div>
          <div class="chip"><strong id="dash-rdv-planifies">‚Äì</strong> Rdv planifi√©s</div>
          <div class="chip">Vendeurs
            <span class="avatars">
              <img src="https://i.pravatar.cc/32?img=12" alt="">
              <img src="https://i.pravatar.cc/32?img=5"  alt="">
              <img src="https://i.pravatar.cc/32?img=33" alt="">
            </span>
          </div>
        </div>
      </div>

      <div class="card">
        <h3 style="margin-top:0">Liste gestionnaires</h3>
        <div class="list" id="account-managers"><div class="muted">(R√©sultats apr√®s recherche compte)</div></div>
      </div>

      <div class="card">
        <h3 style="margin-top:0">Contrats du compte</h3>
        <div class="list" id="account-contracts"><div class="muted">(R√©sultats apr√®s recherche compte)</div></div>
      </div>
    </section>

    <!-- Onglet 3: Lead -->
    <section id="panel-lead" class="panel">
      <div class="card">
        <h2 style="margin-top:0">Cr√©er / mettre √† jour un lead</h2>
        <div class="row">
          <div class="col"><label>Email</label><input placeholder="prenom.nom@entreprise.com" /></div>
          <div class="col"><label>Pr√©nom</label><input placeholder="Pr√©nom" /></div>
          <div class="col"><label>Nom</label><input placeholder="Nom" /></div>
          <div class="col"><label>T√©l√©phone</label><input placeholder="+33‚Ä¶" /></div>
          <div class="col"><label>Opt-in Email</label><select><option>Oui</option><option>Non</option></select></div>
          <div class="col"><label>Opt-in SMS</label><select><option>Oui</option><option>Non</option></select></div>
        </div>
        <div style="margin-top:12px"><button class="primary">Enregistrer</button><span class="muted" style="margin-left:8px">(message de statut)</span></div>
      </div>
    </section>
  </div>

  <script>
    // Tabs
    document.querySelectorAll('.tab-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const id = btn.dataset.tab;
        document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
        document.getElementById('panel-'+id).classList.add('active');
      });
    });

    // API endpoints
    const API_KEY = '1ad6eccb-055d-4600-9b4f-571165af3982';
    const FLEET_BASE   = 'https://francois-sandbox.saas.imagino.com/ucdapi/Vue_gestionnaire_de_flotte/1';
    const ACCOUNT_BASE = 'https://francois-sandbox.saas.imagino.com/ucdapi/Vue_Account_API/1';
    const CONTRACT_BASE= 'https://francois-sandbox.saas.imagino.com/ucdapi/Contrat/1';

    async function fetchJSON(url){
      const res = await fetch(url, { headers: { 'X-Api-Key': API_KEY }});
      if(!res.ok) throw new Error('HTTP '+res.status);
      return res.json();
    }
    function setText(id, val){ const el = document.getElementById(id); if(el) el.textContent = val ?? '‚Äî'; }

    function getManagerSapContactId(obj){
      const direct = obj.SAP_CONTACT_ID || obj.sapContactId || obj.sap_contact_id || obj.contactSapId || obj.id;
      if (direct) return String(direct);
      for (const k of Object.keys(obj||{})){
        if (/sap.*contact.*id/i.test(k)) return String(obj[k]);
      }
      return undefined;
    }
    function getAccountId(acc){
      return acc.SAP_ACCOUNT_ID || acc.sapAccountId || acc.accountId || acc.account_id || acc.id || '';
    }
    function getAccountBrand(acc){
      return (acc.brand || acc.accountBrand || acc.company || '').toString().toLowerCase();
    }

    // Search helpers
    async function searchFleetByEmail(email){
      const js = await fetchJSON(`${FLEET_BASE}/Vue_Gestionnaires_de_flotte?limit=1000`);
      const list = (js && js.data) || [];
      const e = email.trim().toLowerCase();
      return list.find(x => (x.email||'').toLowerCase() === e) || list.find(x => (x.email||'').toLowerCase().includes(e));
    }
    async function searchAccountByName(name){
      const js = await fetchJSON(`${ACCOUNT_BASE}/Vue_account?limit=1000`);
      const list = (js && js.data) || [];
      const n = name.trim().toLowerCase();
      return list.find(x => (x.brand||'').toLowerCase().includes(n));
    }

    // Fleet actions
    document.getElementById('btn-search-fleet')?.addEventListener('click', async ()=>{
      const email = (document.getElementById('fleet-email')?.value || '').trim();
      if(!email){ alert('Saisir un email gestionnaire'); return; }
      try{
        const rec = await searchFleetByEmail(email);
        if(!rec){ alert('Aucun gestionnaire trouv√©'); return; }
        setText('fleet-name', `${rec.firstName||''} ${rec.lastName||''}`.trim() || '‚Äî');
        setText('fleet-email-out', rec.email||'‚Äî');
        setText('fleet-mobile', rec.mobile||'‚Äî');
        setText('fleet-origin', rec.origin||'‚Äî');
        setText('fleet-updated', rec.lastModifiedDate ? new Date(rec.lastModifiedDate).toLocaleString('fr-FR') : '‚Äî');
        await populateFleetContracts(rec);
      }catch(e){ console.error(e); alert('Erreur API gestionnaire'); }
    });

    // Account actions
    document.getElementById('btn-search-account')?.addEventListener('click', async ()=>{
      const name = (document.getElementById('account-name')?.value || '').trim();
      if(!name){ alert('Saisir un nom de compte'); return; }
      try{
        const rec = await searchAccountByName(name);
        if(!rec){ alert('Compte introuvable'); return; }

        setText('acc-brand',   rec.brand||'‚Äî');
        setText('acc-siren',   rec.SIREN||'‚Äî');
        setText('acc-address', rec.addressLine||'‚Äî');
        setText('acc-country', rec.country||'‚Äî');
        setText('acc-phone',   rec.telephone||'‚Äî');
        setText('acc-email',   rec.email||'‚Äî');
        setText('acc-url',     rec.url||'‚Äî');

        const related = await populateAccountContracts(rec);
        renderAccountDashboard(rec, related);
        await populateAccountManagers(rec);
      }catch(e){ console.error(e); alert('Erreur API compte'); }
    });

    // Contract helpers
    function buildCarImage(make, model, color){
      const m = encodeURIComponent(make||'');
      const f = encodeURIComponent(model||'');
      const p = encodeURIComponent(color||'');
      return `https://cdn.imagin.studio/getImage?customer=frcacf&make=${m}&modelFamily=${f}&angle=01&paintDescription=${p}&modelYear=2025&tailoring=agilauto&zoomType=fullscreen&witdh=800`;
    }
    function normalizeContract(raw){
      return {
        vehicleMake: raw.VEHICLE_MAKE ?? raw.vehicleMake,
        vehicleModel: raw.VEHICLE_MODEL ?? raw.vehicleModel,
        vehicleTrim:  raw.VEHICLE_TRIM  ?? raw.vehicleTrim,
        vehicleColor: raw.VEHICLE_COLOR ?? raw.vehicleColor,
        vehicleTransmission: raw.VEHICLE_TRANSMISSION ?? raw.vehicleTransmission,
        amount:   raw.AMOUNT ?? raw.amount,
        status:   raw.STATUS ?? raw.status,
        startDate: raw.START_DATE ?? raw.startDate,
        endDate:   raw.END_DATE   ?? raw.endDate,
        vin:       raw.VIN ?? raw.vin,
        imageUrl:  raw.VEHICLE_IMAGE_URL ?? raw.imageUrl,
        driverName: ((raw.Prenom_Conducteur||'') + ' ' + (raw.Nom_conducteur||'')).trim() || raw.DRIVER_NAME || raw.driverName,
        driverContactId: raw.DRIVER_CONTACT_ID || raw.driverContactId,
        fleetManagerId: raw.FLEET_MANAGER_CONTACT_ID || raw.fleetManagerContactId,
        accountId: raw.SAP_ACCOUNT_ID || raw.accountId
      };
    }
    function contractCardHTML(raw){
      const c = normalizeContract(raw);
      const img = c.imageUrl || buildCarImage(c.vehicleMake, c.vehicleModel, c.vehicleColor);
      const status = c.status || '‚Äî';
      const title = [c.vehicleMake, c.vehicleModel, c.vehicleTrim].filter(Boolean).join(' ') || 'V√©hicule';
      const driver = c.driverName || (c.driverContactId ? `ID ${c.driverContactId}` : '‚Äî');
      const vin = c.vin || '‚Äî';
      const amount = (c.amount!=null) ? `${c.amount} ‚Ç¨/an` : '';
      const start = c.startDate ? new Date(c.startDate).toLocaleDateString('fr-FR') : '‚Äî';
      const end = c.endDate ? new Date(c.endDate).toLocaleDateString('fr-FR') : '‚Äî';
      return `<div class="car card">
        <img src="${img}" alt="${title}" />
        <div>
          <div class="tag">${status}</div>
          <h4 style="margin:6px 0 4px">${title}</h4>
          <div class="muted">Conducteur : ${driver} ‚Ä¢ VIN ${vin}</div>
          <div class="muted">D√©but ${start} ‚Ä¢ Fin ${end} ${amount? '‚Ä¢ '+amount : ''}</div>
        </div>
      </div>`;
    }

    // Fleet contracts
    async function populateFleetContracts(manager){
      const box = document.getElementById('fleet-contracts');
      box.innerHTML = '<div class="muted">Chargement‚Ä¶</div>';
      try{
        const all = await fetchJSON(`${CONTRACT_BASE}/DEMOFR_AGIL_RAW_SAP_CONTRACT?limit=10000`);
        const rows = (all && all.data) || [];
        const managerId = getManagerSapContactId(manager);
        const related = rows.filter(r => String(r.FLEET_MANAGER_CONTACT_ID||'') === String(managerId||''));
        box.innerHTML = related.length ? related.map(contractCardHTML).join('') : '<div class="muted">Aucun contrat trouv√© pour ce gestionnaire</div>';
      }catch(e){
        console.error(e);
        box.innerHTML = '<div class="muted">Erreur chargement contrats</div>';
      }
    }

    // Account managers
    function renderManagerCard(m){
      const initials = `${(m.firstName||'?')[0]||'?'}${(m.lastName||'?')[0]||''}`.toUpperCase();
      const email = m.email || '‚Äî';
      const phone = m.mobile || m.phone || '‚Äî';
      return `
        <div class="card" style="display:flex;align-items:center;gap:14px">
          <div style="width:44px;height:44px;border-radius:50%;background:#edf4ff;border:1px solid var(--aa-border);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--aa-blue)">${initials}</div>
          <div>
            <div><strong>${[m.firstName,m.lastName].filter(Boolean).join(' ')}</strong> <span class="tag">Gestionnaire de flotte</span></div>
            <div class="muted">${email} ‚Ä¢ ${phone}</div>
          </div>
        </div>`;
    }
    async function populateAccountManagers(account){
      const box = document.getElementById('account-managers');
      box.innerHTML = '<div class="muted">Chargement‚Ä¶</div>';
      try{
        const js  = await fetchJSON(`${FLEET_BASE}/Vue_Gestionnaires_de_flotte?limit=10000`);
        const all = (js && js.data) || [];
        const wantedAccId = String(account?.SAP_ACCOUNT_ID || account?.sapAccountId || account?.accountId || '');
        const byEmail   = m => (m.email||'').toLowerCase().includes('kpc');
        const byAccount = m => wantedAccId && String(m.SAP_ACCOUNT_ID||m.accountId||'') === wantedAccId;
        const filtered = all.filter(m => byEmail(m) || byAccount(m));
        const seen = new Set();
        const unique = filtered.filter(m=>{ const e=(m.email||'').toLowerCase(); if(seen.has(e)) return false; seen.add(e); return true; });
        box.innerHTML = unique.length ? unique.map(renderManagerCard).join('') : '<div class="muted">Aucun gestionnaire rattach√© √† ce compte</div>';
      }catch(e){
        console.error(e);
        box.innerHTML = '<div class="muted">Erreur chargement gestionnaires</div>';
      }
    }

    // Account contracts + dashboard
    async function populateAccountContracts(account){
      const box = document.getElementById('account-contracts');
      box.innerHTML = '<div class="muted">Chargement‚Ä¶</div>';
      try{
        const all  = await fetchJSON(`${CONTRACT_BASE}/DEMOFR_AGIL_RAW_SAP_CONTRACT?limit=10000`);
        const rows = (all && all.data) || [];
        const accId = String(getAccountId(account));
        const brand = getAccountBrand(account);
        const isKPC = accId.toUpperCase()==='KPC' || brand.includes('kpc');
        const related = rows.filter(r=>{
          const rAcc   = String(r.SAP_ACCOUNT_ID || r.account_id || '');
          const rBrand = (r.accountBrand || '').toString().toLowerCase();
          return (accId && rAcc && rAcc === accId) || (isKPC && (rAcc.toUpperCase().includes('KPC') || rBrand.includes('kpc')));
        });
        box.innerHTML = related.length ? related.map(contractCardHTML).join('') : '<div class="muted">Aucun contrat pour ce compte</div>';
        return related;
      }catch(e){
        console.error(e);
        box.innerHTML = '<div class="muted">Erreur chargement contrats</div>';
        return [];
      }
    }

    // Dashboard helpers
    function sum(nums){ return nums.reduce((a,b)=>a+(+b||0),0); }
    function euro(n){ return (n||0).toLocaleString('fr-FR',{style:'currency',currency:'EUR',maximumFractionDigits:0}); }
    function setDonut(el, percent){ if(!el) return; el.style.setProperty('--p', Math.max(0,Math.min(100,percent))); }
    function renderAccountDashboard(account, contracts){
      const brand = (account.brand||'').toLowerCase();
      const accId = String(account.SAP_ACCOUNT_ID||'').toLowerCase();
      const isKPC = brand.includes('kpc') || accId.includes('kpc');
      const wrap = document.getElementById('account-dash');
      if(!wrap) return;
      wrap.style.display = isKPC ? 'block' : 'none';
      if(!isKPC) return;

      const actifs = contracts.filter(c => (c.STATUS||c.status) === 'actif');
      const nbActifs = actifs.length;
      const caMensuel = sum(actifs.map(c=> c.AMOUNT ?? c.amount));
      const caAnnuelEstim = caMensuel * 12;

      const bientotFin = contracts.filter(c=>{
        const end = new Date(c.END_DATE||c.endDate||'');
        if(isNaN(end)) return false;
        const now = new Date();
        const in90 = new Date(now.getTime()+90*24*3600*1000);
        return end >= now && end <= in90;
      }).length;

      // mocks
      const leadsTotal=72, leadsEqui=45, leadsFdc=27;
      const rdvTotal=52,  rdvEqui=40,  rdvFdc=12;

      document.getElementById('dash-leads-val').textContent = leadsTotal;
      document.getElementById('leads-equi').textContent = leadsEqui;
      document.getElementById('leads-fdc').textContent  = leadsFdc;
      setDonut(document.getElementById('donut-leads'), Math.round(leadsEqui/leadsTotal*100));

      document.getElementById('dash-rdv-val').textContent = rdvTotal;
      document.getElementById('rdv-equi').textContent = rdvEqui;
      document.getElementById('rdv-fdc').textContent  = rdvFdc;
      setDonut(document.getElementById('donut-rdv'), Math.round(rdvEqui/rdvTotal*100));

      document.getElementById('dash-renouv').textContent = bientotFin;
      document.getElementById('dash-contrats-actifs').textContent = nbActifs;
      document.getElementById('dash-ca').textContent = euro(caAnnuelEstim);
      document.getElementById('dash-rdv-planifies').textContent = 10;
    }
  </script>
</body>
</html>

